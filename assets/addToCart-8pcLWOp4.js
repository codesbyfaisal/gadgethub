import"./footer-CQSg-sQo.js";import"./header-t6QKVv-v.js";import{a as m,p as I,u as d,s as T}from"./updateCartBadge-Cq1zo2Ca.js";const p=document.querySelector(".empty-cart"),a=r=>{let e=0;const s=JSON.parse(window.localStorage.getItem("cartsArray"))||[];s.length===0&&p.classList.toggle("none"),s.forEach(c=>{e+=c.totalItems*c.price}),e=Math.floor(e),document.querySelector(".cart-total span").innerHTML=`Rs. ${e}`,r===0||(e=Math.floor(e-e*r/100)),document.querySelector(".final-total span").innerHTML=`Rs. ${e}`,console.log(e)};a(0);function h(){const r=JSON.parse(window.localStorage.getItem("cartsArray")),e=document.querySelector(".carts-container");r.forEach(s=>{const{id:c,totalItems:y}=s,i=I.find(t=>t.id===c),{name:g,price:l,img:S}=i,o=document.importNode(document.querySelector(".cart-card-template").content,!0),u=o.querySelector(".cart-card"),f=o.querySelector(".cart-image img"),C=o.querySelector(".cart-title"),q=o.querySelector(".cart-price"),n=o.querySelector(".total-pieces span"),L=o.querySelector(".increament"),v=o.querySelector(".decreament"),w=o.querySelector(".remove");u.setAttribute("product-id",c),f.src=S,C.textContent=g,q.textContent=`Rs. ${l}`,n.textContent=y,e.append(o),L.addEventListener("click",()=>{let t=n.innerHTML;t=parseInt(t),n.innerHTML=++t,d(c,t,l),a(0)}),v.addEventListener("click",()=>{let t=n.innerHTML;if(t=parseInt(t),t==0)return!1;if(n.innerHTML=--t,d(c,t,l),a(0),r.length===0)return p.classList.toggle("none"),!1}),w.addEventListener("click",()=>{u.remove(),d(i.id,0),m(),a(0),T("Product remove from the cart")})})}document.querySelector(".apply-coupon").addEventListener("click",()=>{document.getElementById("coupon-code").value.toLowerCase().trim()==="xcver"&&(a(10),console.log("coupon applied"))});JSON.parse(window.localStorage.getItem("cartsArray"));window.addEventListener("load",()=>{(JSON.parse(window.localStorage.getItem("cartsArray"))||[]).length!==0&&(h(),m());const e=document.getElementById("loader");e.style.display="none",document.body.style.overflowY="visible"});
